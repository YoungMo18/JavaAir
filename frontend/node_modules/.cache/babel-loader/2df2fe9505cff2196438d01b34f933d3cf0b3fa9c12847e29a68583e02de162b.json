{"ast":null,"code":"// import React, { useState } from \"react\";\n// import { getDatabase, ref, get } from \"firebase/database\";\n// import { useNavigate, Link } from \"react-router-dom\";\n\n// export function LoginForm() {\n//   const [userType, setUserType] = useState(\"\");\n//   const [username, setUsername] = useState(\"\");\n//   const [password, setPassword] = useState(\"\");\n//   const [userButClass, setUserButClass] = useState(\"unclick-login-chooser\");\n//   const [workerButClass, setWorkerButClass] = useState(\"unclick-login-chooser\");\n//   const [showErrorLogin, setShowErrorLogin] = useState(false);\n//   const [isEmpty, setIsEmpty] = useState(false);\n//   const [loginAccount, setLoginAccount] = useState(false);\n\n//   const navigate = useNavigate();\n\n//   const handleWorkerChange = () => {\n//     setUserType(\"worker\");\n//     setUserButClass(\"unclick-login-chooser\");\n//     setWorkerButClass(\"click-login-chooser\");\n//   };\n\n//   const handleUserChange = () => {\n//     setUserType(\"user\");\n//     setUserButClass(\"click-login-chooser\");\n//     setWorkerButClass(\"unclick-login-chooser\");\n//   };\n\n//   const handleUsernameChange = (event) => {\n//     setUsername(event.target.value);\n//   };\n\n//   const handlePasswordChange = (event) => {\n//     setPassword(event.target.value);\n//   };\n\n//   const checkEmpty = () =>\n//     userType === \"\" || username === \"\" || password === \"\";\n\n//   const checkDBEntries = () => {\n//     const db = getDatabase();\n//     const userRef = ref(db, `user/${username}`);\n\n//     return get(userRef)\n//       .then((snapshot) => {\n//         if (snapshot.exists()) {\n//           const userValues = snapshot.val();\n//           return (\n//             userValues[\"password\"] === password &&\n//             userValues[\"userType\"] === userType\n//           );\n//         } else {\n//           return false;\n//         }\n//       })\n//       .catch((error) => {\n//         console.log(error);\n//         return false;\n//       });\n//   };\n\n//   const handleSubmit = async (event) => {\n//     event.preventDefault();\n//     let empty = checkEmpty();\n//     if (!empty) {\n//       setIsEmpty(false);\n\n//       try {\n//         let checkLogin = await checkDBEntries();\n//         if (checkLogin) {\n//           setShowErrorLogin(false);\n//           localStorage.setItem(\"loggedIn\", userType);\n//           localStorage.setItem(\"username\", username);\n//           setLoginAccount(true);\n//           setTimeout(() => {\n//             navigate(\"/intro\");\n//             window.location.reload();\n//           }, 1800);\n//         } else {\n//           setShowErrorLogin(true);\n//         }\n//       } catch (err) {\n//         console.log(err);\n//       }\n//     } else {\n//       console.log(\"empty\");\n//       setIsEmpty(true);\n//     }\n//   };\n\n//   return (\n//     <div className=\"login-form\">\n//       <article className=\"login-chooser\">\n//         <button onClick={handleWorkerChange} className={workerButClass}>\n//           Worker\n//         </button>\n//         <button onClick={handleUserChange} className={userButClass}>\n//           User\n//         </button>\n//       </article>\n//       <article className=\"login-container\">\n//         <section className=\"login-window\">\n//           <form method=\"post\">\n//             <label for=\"uname\">\n//               <b>Username</b>\n//             </label>\n//             <input\n//               type=\"text\"\n//               name=\"username\"\n//               id=\"uname\"\n//               placeholder=\"Enter your username\"\n//               value={username}\n//               onChange={handleUsernameChange}\n//               required\n//             />\n//             <label for=\"psw\">\n//               <b>Password</b>\n//             </label>\n//             <input\n//               type=\"password\"\n//               name=\"password\"\n//               id=\"psw\"\n//               placeholder=\"Enter your password\"\n//               value={password}\n//               onChange={handlePasswordChange}\n//               required\n//             />\n//             <button id=\"login-btn\" onClick={handleSubmit}>\n//               Login\n//             </button>\n//           </form>\n//           <Link id=\"sign-up-btn\" to=\"/signup\">\n//             Sign Up\n//           </Link>\n//           {isEmpty && <div className=\"error-msg\">Form is incomplete</div>}\n//           {showErrorLogin && (\n//             <div className=\"error-msg\">Incorrect information</div>\n//           )}\n//           {loginAccount && (\n//             <div className=\"success-msg\">\n//               Logged in... Redirecting to home page...\n//             </div>\n//           )}\n//         </section>\n//       </article>\n//     </div>\n//   );\n// }","map":{"version":3,"names":[],"sources":["/Users/muhammadputra/Desktop/JavaAir/frontend/src/components/form/LoginForm.js"],"sourcesContent":["// import React, { useState } from \"react\";\n// import { getDatabase, ref, get } from \"firebase/database\";\n// import { useNavigate, Link } from \"react-router-dom\";\n\n// export function LoginForm() {\n//   const [userType, setUserType] = useState(\"\");\n//   const [username, setUsername] = useState(\"\");\n//   const [password, setPassword] = useState(\"\");\n//   const [userButClass, setUserButClass] = useState(\"unclick-login-chooser\");\n//   const [workerButClass, setWorkerButClass] = useState(\"unclick-login-chooser\");\n//   const [showErrorLogin, setShowErrorLogin] = useState(false);\n//   const [isEmpty, setIsEmpty] = useState(false);\n//   const [loginAccount, setLoginAccount] = useState(false);\n\n//   const navigate = useNavigate();\n\n//   const handleWorkerChange = () => {\n//     setUserType(\"worker\");\n//     setUserButClass(\"unclick-login-chooser\");\n//     setWorkerButClass(\"click-login-chooser\");\n//   };\n\n//   const handleUserChange = () => {\n//     setUserType(\"user\");\n//     setUserButClass(\"click-login-chooser\");\n//     setWorkerButClass(\"unclick-login-chooser\");\n//   };\n\n//   const handleUsernameChange = (event) => {\n//     setUsername(event.target.value);\n//   };\n\n//   const handlePasswordChange = (event) => {\n//     setPassword(event.target.value);\n//   };\n\n//   const checkEmpty = () =>\n//     userType === \"\" || username === \"\" || password === \"\";\n\n//   const checkDBEntries = () => {\n//     const db = getDatabase();\n//     const userRef = ref(db, `user/${username}`);\n\n//     return get(userRef)\n//       .then((snapshot) => {\n//         if (snapshot.exists()) {\n//           const userValues = snapshot.val();\n//           return (\n//             userValues[\"password\"] === password &&\n//             userValues[\"userType\"] === userType\n//           );\n//         } else {\n//           return false;\n//         }\n//       })\n//       .catch((error) => {\n//         console.log(error);\n//         return false;\n//       });\n//   };\n\n//   const handleSubmit = async (event) => {\n//     event.preventDefault();\n//     let empty = checkEmpty();\n//     if (!empty) {\n//       setIsEmpty(false);\n\n//       try {\n//         let checkLogin = await checkDBEntries();\n//         if (checkLogin) {\n//           setShowErrorLogin(false);\n//           localStorage.setItem(\"loggedIn\", userType);\n//           localStorage.setItem(\"username\", username);\n//           setLoginAccount(true);\n//           setTimeout(() => {\n//             navigate(\"/intro\");\n//             window.location.reload();\n//           }, 1800);\n//         } else {\n//           setShowErrorLogin(true);\n//         }\n//       } catch (err) {\n//         console.log(err);\n//       }\n//     } else {\n//       console.log(\"empty\");\n//       setIsEmpty(true);\n//     }\n//   };\n\n//   return (\n//     <div className=\"login-form\">\n//       <article className=\"login-chooser\">\n//         <button onClick={handleWorkerChange} className={workerButClass}>\n//           Worker\n//         </button>\n//         <button onClick={handleUserChange} className={userButClass}>\n//           User\n//         </button>\n//       </article>\n//       <article className=\"login-container\">\n//         <section className=\"login-window\">\n//           <form method=\"post\">\n//             <label for=\"uname\">\n//               <b>Username</b>\n//             </label>\n//             <input\n//               type=\"text\"\n//               name=\"username\"\n//               id=\"uname\"\n//               placeholder=\"Enter your username\"\n//               value={username}\n//               onChange={handleUsernameChange}\n//               required\n//             />\n//             <label for=\"psw\">\n//               <b>Password</b>\n//             </label>\n//             <input\n//               type=\"password\"\n//               name=\"password\"\n//               id=\"psw\"\n//               placeholder=\"Enter your password\"\n//               value={password}\n//               onChange={handlePasswordChange}\n//               required\n//             />\n//             <button id=\"login-btn\" onClick={handleSubmit}>\n//               Login\n//             </button>\n//           </form>\n//           <Link id=\"sign-up-btn\" to=\"/signup\">\n//             Sign Up\n//           </Link>\n//           {isEmpty && <div className=\"error-msg\">Form is incomplete</div>}\n//           {showErrorLogin && (\n//             <div className=\"error-msg\">Incorrect information</div>\n//           )}\n//           {loginAccount && (\n//             <div className=\"success-msg\">\n//               Logged in... Redirecting to home page...\n//             </div>\n//           )}\n//         </section>\n//       </article>\n//     </div>\n//   );\n// }\n"],"mappings":"AAAA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}